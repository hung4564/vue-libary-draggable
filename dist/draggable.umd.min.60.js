"use strict";(("undefined"!==typeof self?self:this)["webpackChunkdraggable"]=("undefined"!==typeof self?self:this)["webpackChunkdraggable"]||[]).push([[60],{8790:function(t,i,e){e.d(i,{Z:function(){return p}});var s=function(){var t=this,i=t._self._c;return i("button",t._g({staticClass:"map-control-button",class:t.bindClass,style:t.bindStyle},t.$listeners),[i("span",{staticClass:"map-control-button__content"},[t._t("default")],2)])},n=[],d={props:{height:{default:32},width:{default:32},disabled:Boolean},computed:{bindStyle(){return{width:`${this.width}px`,height:`${this.height}px`}},bindClass(){return{"map-control-button--disabled":this.disabled}}}},a=d,o=e(1001),r=(0,o.Z)(a,s,n,!1,null,"5b75036b",null),p=r.exports},6209:function(t,i,e){e.d(i,{Z:function(){return p}});var s=function(){var t=this,i=t._self._c;return i("div",t._g(t._b({staticClass:"card",style:t.cardStyle},"div",t.$attrs,!1),t.$listeners),[i("div",{staticClass:"card-container"},[t._t("default")],2),t._m(0)])},n=[function(){var t=this,i=t._self._c;return i("div",{staticClass:"card-arrow"},[i("div",{staticClass:"card-arrow-top-left"}),i("div",{staticClass:"card-arrow-top-right"}),i("div",{staticClass:"card-arrow-bottom-left"}),i("div",{staticClass:"card-arrow-bottom-right"})])}],d={props:{height:{},width:{}},data:()=>({}),computed:{cardStyle(){return{height:this.height,width:this.width}}},methods:{}},a=d,o=e(1001),r=(0,o.Z)(a,s,n,!1,null,"49508faf",null),p=r.exports},6039:function(t,i,e){e.d(i,{Z:function(){return p}});var s=function(){var t=this,i=t._self._c;return t.icon||t.$slots.default?i("i",{staticClass:"map-icon",class:t.icon||t.$slots.default[0].text}):t._e()},n=[],d={props:{icon:{type:String}},computed:{}},a=d,o=e(1001),r=(0,o.Z)(a,s,n,!1,null,"32bbe292",null),p=r.exports},3060:function(t,i,e){e.r(i),e.d(i,{default:function(){return E}});var s=function(){var t=this,i=t._self._c;return t.p_show&&t.init_done?i("vue-drag-resize",t._b({attrs:{dragHandle:".drag",h:t.p_height,"is-active":"",minh:t.c_minHeight,minw:t.c_minWidth,"parent-limitation":"",parentH:t.c_parentHeight,parentW:t.c_parentWidth,sticks:t.sticks,w:t.p_width,x:t.p_x,y:t.p_y,z:t.p_zIndex,isActive:t.isActive},on:{resizing:t.onResize,activated:function(i){return t.activateEv()},deactivated:function(i){return t.deactivateEv()}}},"vue-drag-resize",t.$attrs,!1),[i("map-card",{attrs:{width:t.p_width,height:t.p_height}},[i("div",{staticClass:"draggable-popup-desktop"},[t.disabledHeader?t._e():[i("div",{staticClass:"draggable-popup-desktop-heading"},[i("div",{staticClass:"draggable-popup-desktop-heading__content"},[i("map-icon",{staticClass:"drag grabbing"},[t._v(" "+t._s(t.ICON_CONFIG["action.drag"])+" ")]),i("div",{staticClass:"draggable-popup-desktop-heading__title"},[t._t("title")],2),i("div",{staticClass:"map-spacer"}),t._t("extra-btn"),t.countPopup>1&&!t.disabledOrder?[i("map-button",{attrs:{disabled:t.isFirst},on:{click:function(i){return t.onToBack()}}},[i("map-icon",[t._v(" "+t._s(t.ICON_CONFIG["action.to-back"])+" ")])],1),i("map-button",{attrs:{disabled:t.isLast},on:{click:function(i){return t.onToFront()}}},[i("map-icon",[t._v(" "+t._s(t.ICON_CONFIG["action.to-front"])+" ")])],1)]:t._e(),i("map-button",{on:{click:t.toggleExpanded}},[i("map-icon",{attrs:{icon:t.isExpanded?t.ICON_CONFIG["action.expanded"]:t.ICON_CONFIG["action.close-expanded"]}})],1),t.disabledClose?t._e():i("map-button",{on:{click:t.onClose}},[i("map-icon",[t._v(t._s(t.ICON_CONFIG["action.close"])+" ")])],1)],2)]),i("hr",{staticClass:"map-divider"})],i("div",{directives:[{name:"show",rawName:"v-show",value:t.isExpanded,expression:"isExpanded"}],staticClass:"draggable-popup-desktop-content"},[t._t("default")],2)],2)])],1):t._e()},n=[],d=e(6209),a=e(6039),o=e(8790),r=e(3256),p=e.n(r),h=e(789),c=e(5231),u=e(5922),l=(e(6699),e(3298)),_=e(4913);const g=(t,i,{setIndex:e})=>{if(!t||!i)return;let s=(0,_.Ep)(t);s.popup_ids.includes(i)||s.popup_ids.push(i),l.k[t]||(l.k[t]={}),l.k[t][i]={setIndex:e}},f=(t,i)=>{if(!t||!i)return;l.k[t]&&l.k[t][i]&&(l.k[t][i]=void 0);let e=(0,_.Ep)(t);e&&e.popup_ids&&(e.popup_ids=e.popup_ids.filter((i=>i!=t)),e.popup_ids_show=e.popup_ids_show.filter((i=>i!=t)))},m=(t,i,e)=>{t&&i&&(w(t,i,e),b(t))},w=(t,i,e)=>{if(!t||!i)return;let s=(0,_.Ep)(t),n=s.popup_ids_show;if(e&&!n.includes(i))n.push(i);else if(!e){var d=n.indexOf(i);-1!==d&&n.splice(d,1)}s.popup_ids_show=n},b=t=>{if(!t)return;let i=(0,_.Ep)(t);i.popup_ids_show.forEach(((e,s)=>{l.k[t][e]&&l.k[t][e].setIndex((s<0?1:s)+i.sidebar_ids_show.length+10)}))},v=(t,i)=>{if(!t||!i)return;let e=(0,_.Ep)(t),s=e.popup_ids_show.findIndex((t=>t==i));if(s>0){var n=e.popup_ids_show[s];e.popup_ids_show[s]=e.popup_ids_show[s-1],e.popup_ids_show[s-1]=n,b(t)}},x=(t,i)=>{if(!t||!i)return;let e=(0,_.Ep)(t),s=e.popup_ids_show.findIndex((t=>t==i));if(s<e.popup_ids_show.length-1){var n=e.popup_ids_show[s];e.popup_ids_show[s]=e.popup_ids_show[s+1],e.popup_ids_show[s+1]=n,b(t)}};var I=e(7008),C={mixins:[c.Z],components:{MapCard:d.Z,MapIcon:a.Z,VueDragResize:p(),MapButton:o.Z},props:{minWidth:{type:Number,default:200},minHeigth:{type:Number,default:50},width:{type:Number,default:200},height:{type:Number,default:200},sticks:{type:Array,default:()=>["bl","br"]},top:{type:Number,default:void 0},left:{type:Number,default:void 0},bottom:{type:Number,default:void 0},right:{type:Number,default:void 0},centerX:Boolean,centerY:Boolean,center:Boolean},data:()=>({drag_id:`popup-${(0,I.h)()}`,p_show:!1,p_width:200,p_height:200,p_x:0,p_y:0,isActive:!0,init_done:!1}),inject:{},mounted(){this.p_x=0,this.p_y=0,this.p_height=this.height,this.p_width=this.width,g(this.containerId,this.drag_id,{setIndex:this.onSetIndex.bind(this)}),m(this.containerId,this.drag_id,this.show),this.$nextTick((()=>{this.show&&this.$nextTick((()=>{this.init()}))}))},beforeDestroy(){f(this.containerId,this.drag_id)},watch:{height:{handler(t){this.p_height=t}},width:{handler(t){this.p_width=t}},show:{handler(t){this.p_show=t,t&&this.$nextTick((()=>{this.init()}))}}},computed:{c_popupIds(){return(0,u.hq)(this.containerId)},c_show:{get(){return this.p_show},set(t){this.p_show=t,this.$emit("update:show",t),this.containerId&&this.drag_id&&m(this.containerId,this.drag_id,t)}},isExpanded(){return this.p_height>50},c_minWidth(){return this.minWidth},c_minHeight(){return this.minHeigth},c_parentWidth(){return(0,u.oX)(this.containerId)},c_parentHeight(){return(0,u.b6)(this.containerId)}},methods:{activateEv(){this.isActive=!0},deactivateEv(){this.isActive=!1},init(){this.init_done=!1,this.show&&((0,h.isNil)(this.left)||(this.p_x=this.left),(0,h.isNil)(this.top)||(this.p_y=this.top),(0,h.isNil)(this.right)||(this.p_x=this.c_parentWidth-this.right-this.p_width),(0,h.isNil)(this.bottom)||(this.p_y=this.c_parentHeight-this.bottom-this.p_height),(this.center||this.centerX)&&(this.p_x=(this.c_parentWidth-this.p_width)/2),(this.center||this.centerY)&&(this.p_y=(this.c_parentHeight-this.p_height)/2),this.init_done=!0)},toggleExpanded(){this.p_height=this.isExpanded?50:this.height},onResize(t){this.p_width=t.width,this.p_height=t.height},onToBack(){v(this.containerId,this.drag_id)},onToFront(){x(this.containerId,this.drag_id)}}},k=C,y=e(1001),N=(0,y.Z)(k,s,n,!1,null,"c125d772",null),E=N.exports},5231:function(t,i,e){e.d(i,{Z:function(){return d}});var s=e(5922);const n={"action.close":"mdi mdi-close","action.on-fullscreen":"mdi mdi-arrow-down-drop-circle-outline","action.off-fullscreen":"mdi mdi-arrow-up-drop-circle-outline","action.to-back":"mdi mdi-arrange-send-backward","action.to-front":"mdi mdi-arrange-bring-forward","action.expanded":"mdi mdi-arrow-up-drop-circle-outline","action.close-expanded":"mdi mdi-arrow-down-drop-circle-outline","action.drag":"mdi mdi-drag-variant","action.sidebar-left-expanded":"mdi mdi-menu-left","action.sidebar-left-close-expanded":"mdi mdi-menu-right","action.sidebar-right-expanded":"mdi mdi-menu-right","action.sidebar-right-close-expanded":"mdi mdi-menu-left"};var d={props:{show:Boolean,containerId:{type:String,required:!0},disabledClose:{type:Boolean,default:!1},disabledOrder:Boolean,disabledHeader:Boolean,title:{type:String,default:""}},inject:[],data:()=>({isLast:!1,isFirst:!1,p_zIndex:0}),watch:{p_zIndex:{handler:"updateZIndex",immediate:!0},c_popupIds:{handler:"updateZIndex"},show:{handler(t){this.p_show=t},immediate:!0}},computed:{ICON_CONFIG(){return n},c_show:{get(){return this.show},set(t){this.$emit("update:show",t)}},c_popupIds(){return[]},countPopup(){return this.c_popupIds.length}},methods:{updateZIndex(){this.$nextTick((()=>{this.isLast=(0,s.fX)(this.containerId,this.drag_id,this.c_popupIds),this.isFirst=(0,s.op)(this.containerId,this.drag_id,this.c_popupIds)}))},onSetIndex(t){this.p_zIndex=t},onClose(){this.c_show=!1}}}},7008:function(t,i,e){e.d(i,{h:function(){return s}});e(8675),e(3462),e(7380),e(1118);const s=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}}}]);
//# sourceMappingURL=draggable.umd.min.60.js.map