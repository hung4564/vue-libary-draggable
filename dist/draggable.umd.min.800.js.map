{"version":3,"file":"draggable.umd.min.800.js","mappings":"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","sources":["webpack://draggable/./src/components/draggable/draggable-sidebar/draggable-sidebar.vue","webpack://draggable/src/components/draggable/draggable-sidebar/draggable-sidebar.vue","webpack://draggable/./src/components/draggable/draggable-sidebar/draggable-sidebar.vue?db61","webpack://draggable/./src/components/draggable/draggable-sidebar/draggable-sidebar.vue?af7e","webpack://draggable/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://draggable/./src/components/draggable/store/cache.js","webpack://draggable/./src/components/draggable/store/container.js","webpack://draggable/./src/components/draggable/store/store-draggable.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.currentComponent,_vm._g(_vm._b({tag:\"component\",staticClass:\"draggable-popup\",attrs:{\"containerId\":_vm.containerId,\"show\":_vm.c_show,\"zIndex\":_vm.p_zIndex,\"right\":_vm.right,\"width\":_vm.width},on:{\"update:show\":function($event){_vm.c_show=$event}},scopedSlots:_vm._u([{key:\"extra-btn\",fn:function(){return [_vm._t(\"extra-btn\")]},proxy:true},{key:\"title\",fn:function(){return [_vm._t(\"title\",function(){return [_c('span',{attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.title)+\" \")])]})]},proxy:true}],null,true)},'component',_vm.$attrs,false),_vm.$listeners),[_c('div',{staticClass:\"fill-height\"},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <component\n    v-bind:is=\"currentComponent\"\n    :containerId=\"containerId\"\n    v-bind=\"$attrs\"\n    class=\"draggable-popup\"\n    :show.sync=\"c_show\"\n    :zIndex=\"p_zIndex\"\n    v-on=\"$listeners\"\n    :right=\"right\"\n    :width=\"width\"\n  >\n    <template #extra-btn>\n      <slot name=\"extra-btn\" />\n    </template>\n    <template #title>\n      <slot name=\"title\">\n        <span :title=\"title\">{{ title }} </span>\n      </slot>\n    </template>\n    <div class=\"fill-height\"> <slot /> </div>\n  </component>\n</template>\n\n<script>\nimport { isMobile } from \"../store/store-draggable\";\nexport default {\n  components: {\n    DraggableSidebarDesktop: () => import(\"./draggable-sidebar-desktop.vue\"),\n    DraggableBottom: () => import(\"../draggable-bottom.vue\")\n  },\n  props: {\n    show: Boolean,\n    title: {\n      type: String,\n      default: \"\"\n    },\n    right: Boolean,\n    width: { type: [String, Number], default: \"auto\" }\n  },\n  inject: {\n    containerId: { default: \"\" }\n  },\n  data: () => ({\n    p_zIndex: 0,\n    p_show: false\n  }),\n  watch: {\n    show: {\n      handler(val) {\n        this.c_show = val;\n      },\n      immediate: true\n    }\n  },\n  computed: {\n    isMobile() {\n      return isMobile(this.containerId);\n    },\n    c_show: {\n      get() {\n        return this.p_show;\n      },\n      set(val) {\n        this.p_show = val;\n        this.$emit(\"update:show\", val);\n        if (!val && this.$listeners[\"close\"]) {\n          this.$emit(\"close\", val);\n        }\n      }\n    },\n    currentComponent() {\n      return this.isMobile ? \"draggable-bottom\" : \"draggable-sidebar-desktop\";\n    }\n  },\n  methods: {\n    onSetIndex(index) {\n      this.p_zIndex = index;\n    }\n  }\n};\n</script>\n\n<style>\n.draggable-popup {\n  pointer-events: all;\n}\n.draggable-popup .map-spacer {\n  flex-grow: 1;\n}\n.draggable-popup.vdr::before {\n  outline: none !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./draggable-sidebar.vue?vue&type=template&id=ab062630&\"\nimport script from \"./draggable-sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./draggable-sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./draggable-sidebar.vue?vue&type=style&index=0&id=ab062630&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","export const ACTION_CACHE = {};\n","import { ACTION_CACHE } from \"./cache\";\nimport Vue from \"vue\";\n\nconst store = new Vue.observable({});\n\nexport const setDraggableContainer = (id) => {\n  ACTION_CACHE[id] = {};\n  Vue.set(store, id, {\n    popup_ids: [],\n    popup_ids_show: [],\n    sidebar_ids: [],\n    sidebar_ids_show: [],\n    mobile_ids: [],\n    mobile_ids_show: [],\n    parent: { width: 0, height: 0 },\n    isMobile: false,\n    cardComponent: \"map-card\",\n    cardPopupComponent: \"map-card\",\n    cardSidebarComponent: \"map-card\",\n    cardBottomComponent: \"map-card\"\n  });\n};\nexport const removeDraggableContainer = (id) => {\n  delete ACTION_CACHE[id];\n  Vue.delete(store, id);\n};\nexport const getStoreDraggable = (id) => store[id] || {};\n\nexport const getParentProps = (id) => getStoreDraggable(id).parent;\nexport const getParentWidth = (id) => getStoreDraggable(id).parent.width;\nexport const getParentHeight = (id) => getStoreDraggable(id).parent.height;\n\nexport const setParentProps = (id, { width, height }) => {\n  if (!id) return;\n  getStoreDraggable(id).parent.width = width;\n  getStoreDraggable(id).parent.height = height;\n  setIsMobile(id, width && width <= 600);\n};\n\nexport const isMobile = (id) => getStoreDraggable(id).isMobile;\nexport const setIsMobile = (id, value) => {\n  getStoreDraggable(id).isMobile = value;\n};\nexport const setCardComponent = (\n  id,\n  {\n    cardComponent,\n    cardPopupComponent,\n    cardSidebarComponent,\n    cardBottomComponent\n  }\n) => {\n  let store = getStoreDraggable(id);\n  store.cardComponent = cardComponent;\n  store.cardPopupComponent = cardPopupComponent;\n  store.cardSidebarComponent = cardSidebarComponent;\n  store.cardBottomComponent = cardBottomComponent;\n};\nexport const getCardPopupComponent = (id) => {\n  let store = getStoreDraggable(id);\n  return store.cardPopupComponent || store.cardComponent;\n};\n\nexport const getCardSidebarComponent = (id) => {\n  let store = getStoreDraggable(id);\n  return store.cardSidebarComponent || store.cardComponent;\n};\n\nexport const getCardBottomComponent = (id) => {\n  let store = getStoreDraggable(id);\n  return store.cardBottomComponent || store.cardComponent;\n};\n","import { getStoreDraggable, isMobile } from \"./container\";\n\nimport { ACTION_CACHE } from \"./cache\";\n\nexport * from \"./container\";\n\nexport const checkIsLast = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[items.length - 1] == popup_id;\n};\nexport const checkIsFirst = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[0] == popup_id;\n};\n\nexport const getPopupIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.popup_ids_show;\n};\n\nexport const getSidebarIdsShow = (id, position) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.sidebar_ids_show.filter(\n    (sidebar_id) =>\n      ACTION_CACHE[id] &&\n      ACTION_CACHE[id][sidebar_id] &&\n      ACTION_CACHE[id][sidebar_id][\"position\"] == position\n  );\n};\n\nexport const getMobileIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  return p_store.mobile_ids_show;\n};\n"],"names":["render","_vm","this","_c","_self","currentComponent","_g","_b","tag","staticClass","attrs","containerId","c_show","p_zIndex","right","width","on","$event","scopedSlots","_u","key","fn","_t","proxy","title","_v","_s","$attrs","$listeners","staticRenderFns","components","DraggableSidebarDesktop","DraggableBottom","props","show","type","default","inject","data","p_show","watch","handler","immediate","computed","isMobile","get","set","methods","onSetIndex","component","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","ACTION_CACHE","store","Vue","setDraggableContainer","id","popup_ids","popup_ids_show","sidebar_ids","sidebar_ids_show","mobile_ids","mobile_ids_show","height","cardComponent","cardPopupComponent","cardSidebarComponent","cardBottomComponent","removeDraggableContainer","getStoreDraggable","getParentWidth","getParentHeight","setParentProps","setIsMobile","value","setCardComponent","getCardPopupComponent","getCardSidebarComponent","getCardBottomComponent","checkIsLast","popup_id","items","length","checkIsFirst","getPopupIdsShow","p_store","mobie_ids","getSidebarIdsShow","position","filter","sidebar_id","getMobileIdsShow"],"sourceRoot":""}