{"version":3,"file":"draggable.umd.min.924.js","mappings":"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","sources":["webpack://draggable/./src/components/draggable/draggable-contianer.vue","webpack://draggable/src/components/draggable/draggable-contianer.vue","webpack://draggable/./src/components/draggable/draggable-contianer.vue?77fc","webpack://draggable/./src/components/draggable/draggable-contianer.vue?4352","webpack://draggable/./src/components/draggable/store/cache.js","webpack://draggable/./src/components/draggable/store/container.js","webpack://draggable/./src/components/draggable/store/store-draggable.js","webpack://draggable/./src/utils/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"draggable-container\"},[(_vm.container_id && _vm.init_done)?_vm._t(\"default\"):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-resize=\"onResize\" class=\"draggable-container\">\n    <slot v-if=\"container_id && init_done\" />\n  </div>\n</template>\n\n<script>\nimport { getUUIDv4 } from \"@/utils\";\nimport resize from \"vue-resize-directive\";\nimport {\n  removeDraggableContainer,\n  setDraggableContainer,\n  setParentProps,\n  getStoreDraggable\n} from \"./store/store-draggable\";\nexport default {\n  directives: {\n    resize\n  },\n  components: {},\n  data: () => ({\n    container_id: `draggable-container-${getUUIDv4()}`,\n    init_done: false\n  }),\n  mounted() {\n    setDraggableContainer(this.container_id);\n    this.$nextTick(() => {\n      this.onResize();\n      window.addEventListener(\"resize\", this.onResize);\n      this.init_done = true;\n    });\n  },\n  beforeDestroy() {\n    removeDraggableContainer(this.container_id);\n    window.removeEventListener(\"resize\", this.onResize);\n  },\n\n  computed: {\n    store() {\n      return getStoreDraggable(this.container_id);\n    }\n  },\n  provide() {\n    return {\n      containerId: this.container_id\n    };\n  },\n  methods: {\n    onResize() {\n      setParentProps(this.container_id, {\n        width: this.$el.clientWidth,\n        height: this.$el.clientHeight\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.draggable-container {\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./draggable-contianer.vue?vue&type=template&id=704e1ac6&scoped=true&\"\nimport script from \"./draggable-contianer.vue?vue&type=script&lang=js&\"\nexport * from \"./draggable-contianer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./draggable-contianer.vue?vue&type=style&index=0&id=704e1ac6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"704e1ac6\",\n  null\n  \n)\n\nexport default component.exports","export const ACTION_CACHE = {};\n","import { ACTION_CACHE } from \"./cache\";\nimport Vue from \"vue\";\n\nconst store = new Vue.observable({});\n\nexport const setDraggableContainer = (id) => {\n  ACTION_CACHE[id] = {};\n  Vue.set(store, id, {\n    popup_ids: [],\n    popup_ids_show: [],\n    sidebar_ids: [],\n    sidebar_ids_show: [],\n    mobile_ids: [],\n    mobile_ids_show: [],\n    parent: { width: 0, height: 0 },\n    isMobile: false\n  });\n};\nexport const removeDraggableContainer = (id) => {\n  delete ACTION_CACHE[id];\n  Vue.delete(store, id);\n};\nexport const getStoreDraggable = (id) => store[id] || {};\n\nexport const getParentProps = (id) => getStoreDraggable(id).parent;\nexport const getParentWidth = (id) => getStoreDraggable(id).parent.width;\nexport const getParentHeight = (id) => getStoreDraggable(id).parent.height;\n\nexport const setParentProps = (id, { width, height }) => {\n  if (!id) return;\n  getStoreDraggable(id).parent.width = width;\n  getStoreDraggable(id).parent.height = height;\n  setIsMobile(id, width && width <= 600);\n};\n\nexport const isMobile = (id) => getStoreDraggable(id).isMobile;\nexport const setIsMobile = (id, value) => {\n  getStoreDraggable(id).isMobile = value;\n};\n","import { getStoreDraggable, isMobile } from \"./container\";\n\nimport { ACTION_CACHE } from \"./cache\";\n\nexport * from \"./container\";\n\nexport const checkIsLast = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[items.length - 1] == popup_id;\n};\nexport const checkIsFirst = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[0] == popup_id;\n};\n\nexport const getPopupIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.popup_ids_show;\n};\n\nexport const getSidebarIdsShow = (id, position) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.sidebar_ids_show.filter(\n    (sidebar_id) =>\n      ACTION_CACHE[id] &&\n      ACTION_CACHE[id][sidebar_id] &&\n      ACTION_CACHE[id][sidebar_id][\"position\"] == position\n  );\n};\n\nexport const getMobileIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  return p_store.mobile_ids_show;\n};\n","export const getUUIDv4 = function () {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n};\n"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","onResize","expression","staticClass","container_id","init_done","_t","_e","staticRenderFns","resize","components","data","mounted","setDraggableContainer","window","beforeDestroy","removeDraggableContainer","computed","store","provide","containerId","methods","setParentProps","width","height","component","ACTION_CACHE","Vue","id","popup_ids","popup_ids_show","sidebar_ids","sidebar_ids_show","mobile_ids","mobile_ids_show","parent","isMobile","getStoreDraggable","getParentWidth","getParentHeight","setIsMobile","checkIsLast","popup_id","items","length","checkIsFirst","getPopupIdsShow","p_store","mobie_ids","getSidebarIdsShow","position","filter","sidebar_id","getMobileIdsShow","getUUIDv4","replace","c","crypto","getRandomValues","Uint8Array","toString"],"sourceRoot":""}