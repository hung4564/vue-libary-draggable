{"version":3,"file":"draggable.umd.909.js","mappings":"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","sources":["webpack://draggable/./src/components/draggable/draggable-contianer.vue","webpack://draggable/src/components/draggable/draggable-contianer.vue","webpack://draggable/./src/components/draggable/draggable-contianer.vue?4673","webpack://draggable/./src/components/draggable/draggable-contianer.vue?9817","webpack://draggable/./src/components/draggable/draggable-contianer.vue?8e33","webpack://draggable/./src/components/draggable/draggable-contianer.vue?4352","webpack://draggable/./src/components/draggable/store/cache.js","webpack://draggable/./src/components/draggable/store/container.js","webpack://draggable/./src/components/draggable/store/store-draggable.js","webpack://draggable/./src/utils/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"draggable-container\"},[(_vm.container_id && _vm.init_done)?_vm._t(\"default\"):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-resize=\"onResize\" class=\"draggable-container\">\n    <slot v-if=\"container_id && init_done\" />\n  </div>\n</template>\n\n<script>\nimport { getUUIDv4 } from \"@/utils\";\nimport resize from \"vue-resize-directive\";\nimport {\n  removeDraggableContainer,\n  setDraggableContainer,\n  setParentProps,\n  getStoreDraggable,\n  setCardComponent\n} from \"./store/store-draggable\";\nexport default {\n  props: {\n    cardComponent: { type: String, default: \"map-card\" },\n    cardPopupComponent: { type: String },\n    cardSidebarComponent: { type: String },\n    cardBottomComponent: { type: String }\n  },\n  directives: {\n    resize\n  },\n  components: {},\n  data: () => ({\n    container_id: `draggable-container-${getUUIDv4()}`,\n    init_done: false\n  }),\n  watch: {\n    cardComponent() {\n      this.onUpdateCardComponent();\n    },\n    cardPopupComponent() {\n      this.onUpdateCardComponent();\n    },\n    cardSidebarComponent() {\n      this.onUpdateCardComponent();\n    },\n    cardBottomComponent() {\n      this.onUpdateCardComponent();\n    }\n  },\n  mounted() {\n    setDraggableContainer(this.container_id);\n    this.$nextTick(() => {\n      this.onResize();\n      window.addEventListener(\"resize\", this.onResize);\n      this.init_done = true;\n      this.$emit(\"init-done\", { id: this.container_id });\n    });\n    this.onUpdateCardComponent();\n  },\n  beforeDestroy() {\n    removeDraggableContainer(this.container_id);\n    window.removeEventListener(\"resize\", this.onResize);\n  },\n\n  computed: {\n    store() {\n      return getStoreDraggable(this.container_id);\n    }\n  },\n  provide() {\n    return {\n      containerId: this.container_id\n    };\n  },\n  methods: {\n    onUpdateCardComponent() {\n      setCardComponent(this.container_id, {\n        cardComponent: this.cardComponent,\n        cardPopupComponent: this.cardPopupComponent,\n        cardSidebarComponent: this.cardBottomComponent,\n        cardBottomComponent: this.cardBottomComponent\n      });\n    },\n    onResize() {\n      setParentProps(this.container_id, {\n        width: this.$el.clientWidth,\n        height: this.$el.clientHeight\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.draggable-container {\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-54.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-54.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-54.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=style&index=0&id=9041080a&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./draggable-contianer.vue?vue&type=template&id=9041080a&scoped=true&\"\nimport script from \"./draggable-contianer.vue?vue&type=script&lang=js&\"\nexport * from \"./draggable-contianer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./draggable-contianer.vue?vue&type=style&index=0&id=9041080a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9041080a\",\n  null\n  \n)\n\nexport default component.exports","export const ACTION_CACHE = {};\n","import { ACTION_CACHE } from \"./cache\";\nimport Vue from \"vue\";\n\nconst store = new Vue.observable({});\n\nexport const setDraggableContainer = (id) => {\n  ACTION_CACHE[id] = {};\n  Vue.set(store, id, {\n    popup_ids: [],\n    popup_ids_show: [],\n    sidebar_ids: [],\n    sidebar_ids_show: [],\n    mobile_ids: [],\n    mobile_ids_show: [],\n    parent: { width: 0, height: 0 },\n    isMobile: false,\n    cardComponent: \"map-card\",\n    cardPopupComponent: \"map-card\",\n    cardSidebarComponent: \"map-card\",\n    cardBottomComponent: \"map-card\"\n  });\n};\nexport const removeDraggableContainer = (id) => {\n  delete ACTION_CACHE[id];\n  Vue.delete(store, id);\n};\nexport const getStoreDraggable = (id) => store[id] || {};\n\nexport const getParentProps = (id) => getStoreDraggable(id).parent;\nexport const getParentWidth = (id) => getStoreDraggable(id).parent.width;\nexport const getParentHeight = (id) => getStoreDraggable(id).parent.height;\n\nexport const setParentProps = (id, { width, height }) => {\n  if (!id) return;\n  getStoreDraggable(id).parent.width = width;\n  getStoreDraggable(id).parent.height = height;\n  setIsMobile(id, width && width <= 600);\n};\n\nexport const isMobile = (id) => getStoreDraggable(id).isMobile;\nexport const setIsMobile = (id, value) => {\n  getStoreDraggable(id).isMobile = value;\n};\nexport const setCardComponent = (\n  id,\n  {\n    cardComponent,\n    cardPopupComponent,\n    cardSidebarComponent,\n    cardBottomComponent\n  }\n) => {\n  let store = getStoreDraggable(id);\n  store.cardComponent = cardComponent;\n  store.cardPopupComponent = cardPopupComponent;\n  store.cardSidebarComponent = cardSidebarComponent;\n  store.cardBottomComponent = cardBottomComponent;\n};\nexport const getCardPopupComponent = (id) => {\n  let store = getStoreDraggable(id);\n  return store.cardPopupComponent || store.cardComponent;\n};\n\nexport const getCardSidebarComponent = (id) => {\n  let store = getStoreDraggable(id);\n  return store.cardSidebarComponent || store.cardComponent;\n};\n\nexport const getCardBottomComponent = (id) => {\n  let store = getStoreDraggable(id);\n  return store.cardBottomComponent || store.cardComponent;\n};\n","import { getStoreDraggable, isMobile } from \"./container\";\n\nimport { ACTION_CACHE } from \"./cache\";\n\nexport * from \"./container\";\n\nexport const checkIsLast = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[items.length - 1] == popup_id;\n};\nexport const checkIsFirst = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[0] == popup_id;\n};\n\nexport const getPopupIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.popup_ids_show;\n};\n\nexport const getSidebarIdsShow = (id, position) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.sidebar_ids_show.filter(\n    (sidebar_id) =>\n      ACTION_CACHE[id] &&\n      ACTION_CACHE[id][sidebar_id] &&\n      ACTION_CACHE[id][sidebar_id][\"position\"] == position\n  );\n};\n\nexport const getMobileIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  return p_store.mobile_ids_show;\n};\n","export const getUUIDv4 = function () {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n};\n"],"names":["render","_vm","_c","_self","directives","name","rawName","value","onResize","expression","staticClass","container_id","init_done","_t","_e","staticRenderFns","removeDraggableContainer","setDraggableContainer","setParentProps","getStoreDraggable","setCardComponent","props","cardComponent","type","default","cardPopupComponent","cardSidebarComponent","cardBottomComponent","resize","components","data","watch","mounted","window","id","beforeDestroy","computed","store","provide","containerId","methods","onUpdateCardComponent","width","height","ACTION_CACHE","Vue","observable","set","popup_ids","popup_ids_show","sidebar_ids","sidebar_ids_show","mobile_ids","mobile_ids_show","parent","isMobile","delete","getParentProps","getParentWidth","getParentHeight","setIsMobile","getCardPopupComponent","getCardSidebarComponent","getCardBottomComponent","checkIsLast","popup_id","items","length","checkIsFirst","getPopupIdsShow","p_store","mobie_ids","getSidebarIdsShow","position","filter","sidebar_id","getMobileIdsShow","getUUIDv4","replace","c","crypto","getRandomValues","Uint8Array","toString"],"sourceRoot":""}