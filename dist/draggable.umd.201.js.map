{"version":3,"file":"draggable.umd.201.js","mappings":"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","sources":["webpack://draggable/./src/components/draggable/draggable-contianer.vue","webpack://draggable/src/components/draggable/draggable-contianer.vue","webpack://draggable/./src/components/draggable/draggable-contianer.vue?4673","webpack://draggable/./src/components/draggable/draggable-contianer.vue?a7d9","webpack://draggable/./src/components/draggable/draggable-contianer.vue?6dec","webpack://draggable/./src/components/draggable/draggable-contianer.vue?4352","webpack://draggable/./src/components/draggable/store/cache.js","webpack://draggable/./src/components/draggable/store/container.js","webpack://draggable/./src/components/draggable/store/store-draggable.js","webpack://draggable/./src/utils/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"draggable-container\"},[(_vm.container_id && _vm.init_done)?_vm._t(\"default\"):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-resize=\"onResize\" class=\"draggable-container\">\n    <slot v-if=\"container_id && init_done\" />\n  </div>\n</template>\n\n<script>\nimport { getUUIDv4 } from \"@/utils\";\nimport resize from \"vue-resize-directive\";\nimport {\n  removeDraggableContainer,\n  setDraggableContainer,\n  setParentProps,\n  getStoreDraggable\n} from \"./store/store-draggable\";\nexport default {\n  directives: {\n    resize\n  },\n  components: {},\n  data: () => ({\n    container_id: `draggable-container-${getUUIDv4()}`,\n    init_done: false\n  }),\n  mounted() {\n    setDraggableContainer(this.container_id);\n    this.$nextTick(() => {\n      this.onResize();\n      window.addEventListener(\"resize\", this.onResize);\n      this.init_done = true;\n    });\n  },\n  beforeDestroy() {\n    removeDraggableContainer(this.container_id);\n    window.removeEventListener(\"resize\", this.onResize);\n  },\n\n  computed: {\n    store() {\n      return getStoreDraggable(this.container_id);\n    }\n  },\n  provide() {\n    return {\n      containerId: this.container_id\n    };\n  },\n  methods: {\n    onResize() {\n      setParentProps(this.container_id, {\n        width: this.$el.clientWidth,\n        height: this.$el.clientHeight\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.draggable-container {\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-54.use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-54.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-54.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./draggable-contianer.vue?vue&type=style&index=0&id=704e1ac6&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./draggable-contianer.vue?vue&type=template&id=704e1ac6&scoped=true&\"\nimport script from \"./draggable-contianer.vue?vue&type=script&lang=js&\"\nexport * from \"./draggable-contianer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./draggable-contianer.vue?vue&type=style&index=0&id=704e1ac6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"704e1ac6\",\n  null\n  \n)\n\nexport default component.exports","export const ACTION_CACHE = {};\n","import { ACTION_CACHE } from \"./cache\";\nimport Vue from \"vue\";\n\nconst store = new Vue.observable({});\n\nexport const setDraggableContainer = (id) => {\n  ACTION_CACHE[id] = {};\n  Vue.set(store, id, {\n    popup_ids: [],\n    popup_ids_show: [],\n    sidebar_ids: [],\n    sidebar_ids_show: [],\n    mobile_ids: [],\n    mobile_ids_show: [],\n    parent: { width: 0, height: 0 },\n    isMobile: false\n  });\n};\nexport const removeDraggableContainer = (id) => {\n  delete ACTION_CACHE[id];\n  Vue.delete(store, id);\n};\nexport const getStoreDraggable = (id) => store[id] || {};\n\nexport const getParentProps = (id) => getStoreDraggable(id).parent;\nexport const getParentWidth = (id) => getStoreDraggable(id).parent.width;\nexport const getParentHeight = (id) => getStoreDraggable(id).parent.height;\n\nexport const setParentProps = (id, { width, height }) => {\n  if (!id) return;\n  getStoreDraggable(id).parent.width = width;\n  getStoreDraggable(id).parent.height = height;\n  setIsMobile(id, width && width <= 600);\n};\n\nexport const isMobile = (id) => getStoreDraggable(id).isMobile;\nexport const setIsMobile = (id, value) => {\n  getStoreDraggable(id).isMobile = value;\n};\n","import { getStoreDraggable, isMobile } from \"./container\";\n\nimport { ACTION_CACHE } from \"./cache\";\n\nexport * from \"./container\";\n\nexport const checkIsLast = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[items.length - 1] == popup_id;\n};\nexport const checkIsFirst = (id, popup_id, items) => {\n  if (!id || !popup_id) return;\n  if (items.length < 1) return false;\n  return items[0] == popup_id;\n};\n\nexport const getPopupIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.popup_ids_show;\n};\n\nexport const getSidebarIdsShow = (id, position) => {\n  let p_store = getStoreDraggable(id);\n  if (isMobile(id)) {\n    return p_store.mobie_ids;\n  }\n  return p_store.sidebar_ids_show.filter(\n    (sidebar_id) =>\n      ACTION_CACHE[id] &&\n      ACTION_CACHE[id][sidebar_id] &&\n      ACTION_CACHE[id][sidebar_id][\"position\"] == position\n  );\n};\n\nexport const getMobileIdsShow = (id) => {\n  let p_store = getStoreDraggable(id);\n  return p_store.mobile_ids_show;\n};\n","export const getUUIDv4 = function () {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n};\n"],"names":["render","_vm","_c","_self","directives","name","rawName","value","onResize","expression","staticClass","container_id","init_done","_t","_e","staticRenderFns","removeDraggableContainer","setDraggableContainer","setParentProps","getStoreDraggable","resize","components","data","mounted","window","beforeDestroy","computed","store","provide","containerId","methods","width","height","ACTION_CACHE","Vue","observable","id","set","popup_ids","popup_ids_show","sidebar_ids","sidebar_ids_show","mobile_ids","mobile_ids_show","parent","isMobile","delete","getParentProps","getParentWidth","getParentHeight","setIsMobile","checkIsLast","popup_id","items","length","checkIsFirst","getPopupIdsShow","p_store","mobie_ids","getSidebarIdsShow","position","filter","sidebar_id","getMobileIdsShow","getUUIDv4","replace","c","crypto","getRandomValues","Uint8Array","toString"],"sourceRoot":""}